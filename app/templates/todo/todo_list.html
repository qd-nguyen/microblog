{% extends "base.html" %}
{% import 'bootstrap/wtf.html' as wtf %}

{% block app_content %}
    <h1>ToDo-Liste</h1>
    <!-- Formular zum Hinzufügen von Aufgaben -->
    <form method="POST" action="{{ url_for('add_task') }}">
        {{ wtf.quick_form(form) }}
        <button type="submit">Aufgabe hinzufügen</button>
    </form>

    <!-- Aufgabenliste nach Status sortiert -->
    <h2>Offen</h2>
    <ul>
        {% for task in tasks if task.status == 'offen' %}
            <li>
                <h3>{{ task.title }}</h3>
                <p>Status: {{ task.status }}</p>
                <p>Deadline: {{ task.deadline }}</p>
                <p>Kommentar: {{ task.comment }}</p>
            </li>
        {% endfor %}
    </ul>

    <h2>In Bearbeitung</h2>
    <ul>
        {% for task in tasks if task.status == 'in Bearbeitung' %}
            <li>
                <h3>{{ task.title }}</h3>
                <p>Status: {{ task.status }}</p>
                <p>Deadline: {{ task.deadline }}</p>
                <p>Kommentar: {{ task.comment }}</p>
            </li>
        {% endfor %}
    </ul>

    <h2>Abgeschlossen</h2>
    <ul>
        {% for task in tasks if task.status == 'abgeschlossen' %}
            <li>
                <h3>{{ task.title }}</h3>
                <p>Status: {{ task.status }}</p>
                <p>Deadline: {{ task.deadline }}</p>
                <p>Kommentar: {{ task.comment }}</p>
            </li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
